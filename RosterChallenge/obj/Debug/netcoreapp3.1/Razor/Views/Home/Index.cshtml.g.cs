#pragma checksum "C:\Users\Curtis\source\repos\Roster-Challenge\RosterChallenge\Views\Home\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "823aac66003d5eb57240ed05080d7048f2a287f3"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_Index), @"mvc.1.0.view", @"/Views/Home/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\Curtis\source\repos\Roster-Challenge\RosterChallenge\Views\_ViewImports.cshtml"
using RosterChallenge;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Curtis\source\repos\Roster-Challenge\RosterChallenge\Views\_ViewImports.cshtml"
using RosterChallenge.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"823aac66003d5eb57240ed05080d7048f2a287f3", @"/Views/Home/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"57a6eac8b18439814ba4c849db7260f74a30a006", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<RosterModel>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/css/Roster.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("rel", new global::Microsoft.AspNetCore.Html.HtmlString("stylesheet"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("name", "~/Views/Home/Dialogs/_addEditArtistModal.cshtml", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("name", "~/Views/Shared/Dialogs/_confirmModal.cshtml", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("name", "~/Views/Shared/Dialogs/_notificationModal.cshtml", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.PartialTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "C:\Users\Curtis\source\repos\Roster-Challenge\RosterChallenge\Views\Home\Index.cshtml"
  
    ViewData["Title"] = "Artist Roster";

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
            DefineSection("styles", async() => {
                WriteLiteral("\r\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "823aac66003d5eb57240ed05080d7048f2a287f35276", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"
    <link rel=""stylesheet"" href=""https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.3/css/theme.default.min.css"" integrity=""sha512-wghhOJkjQX0Lh3NSWvNKeZ0ZpNn+SPVXX1Qyc9OCaogADktxrBiBdKGDoqVUOyhStvMBmJQ8ZdMHiR3wuEq8+w=="" crossorigin=""anonymous"" referrerpolicy=""no-referrer"" />
");
            }
            );
            DefineSection("dialogs", async() => {
                WriteLiteral("\r\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("partial", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "823aac66003d5eb57240ed05080d7048f2a287f36874", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.PartialTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper.Name = (string)__tagHelperAttribute_2.Value;
                __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_2);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("partial", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "823aac66003d5eb57240ed05080d7048f2a287f38054", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.PartialTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper.Name = (string)__tagHelperAttribute_3.Value;
                __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_3);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("partial", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "823aac66003d5eb57240ed05080d7048f2a287f39234", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.PartialTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper.Name = (string)__tagHelperAttribute_4.Value;
                __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_4);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n");
            }
            );
            WriteLiteral(@"
<Table class=""fixed-header"">
    <thead>
        <tr>
            <td><div class=""mx-3 fw-bold"">Paid</div></td>
            <td class=""mx-3 fw-bold"">Artist</td>
            <td><div class=""mx-3 fw-bold"">Rate</div></td>
            <td><div class=""float-right mx-3 fw-bold"">Total Steams</div></td>
            <td><div class=""float-right mx-3 fw-bold"">Payout</div></td>
            <td><div class=""float-right mx-3 fw-bold"">Monthly Avg.</div></td>
        </tr>
    </thead>
    <tbody class=""fixed-header-body"">
");
#nullable restore
#line 28 "C:\Users\Curtis\source\repos\Roster-Challenge\RosterChallenge\Views\Home\Index.cshtml"
         foreach (Artist a in Model.Roster)
        {
            

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "C:\Users\Curtis\source\repos\Roster-Challenge\RosterChallenge\Views\Home\Index.cshtml"
       Write(await Html.PartialAsync("~/Views/Home/Partials/_rosterRow.cshtml", a));

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "C:\Users\Curtis\source\repos\Roster-Challenge\RosterChallenge\Views\Home\Index.cshtml"
                                                                                  
        }

#line default
#line hidden
#nullable disable
            WriteLiteral("    </tbody>\r\n</Table>\r\n\r\n");
            DefineSection("Scripts", async() => {
                WriteLiteral(@"
    <script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.3/js/jquery.tablesorter.min.js"" integrity=""sha512-qzgd5cYSZcosqpzpn7zF2ZId8f/8CHmFKZ8j7mU4OUXTNRd5g+ZHBPsgKEwoqxCtdQvExE5LprwwPAgoicguNg=="" crossorigin=""anonymous"" referrerpolicy=""no-referrer""></script>
    <script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.3/js/jquery.tablesorter.widgets.min.js"" integrity=""sha512-dj/9K5GRIEZu+Igm9tC16XPOTz0RdPk9FGxfZxShWf65JJNU2TjbElGjuOo3EhwAJRPhJxwEJ5b+/Ouo+VqZdQ=="" crossorigin=""anonymous"" referrerpolicy=""no-referrer""></script>
    <script>
        $(document).ready(function () {
            //custom sort to handle checkboxes
            $.tablesorter.addParser({
                id: 'checkboxSort',
                is: function (s) {
                    return false;
                },
                format: function (s, table, cell) {
                    return $($(cell).find(""input[type='checkbox']"")[0]).is("":checked"");
                },
              ");
                WriteLiteral(@"  type: 'numeric'
            });

            $('table').tablesorter({
                ""theme"": ""default"", headers: {
                    0: {
                        sorter: 'checkboxSort'
                    }
                } });
        });

        function refreshArtistRow(ID) {
            $.ajax({
                type: ""POST"",
                url: '");
#nullable restore
#line 63 "C:\Users\Curtis\source\repos\Roster-Challenge\RosterChallenge\Views\Home\Index.cshtml"
                 Write(Url.Action("getArtistRow", "Home"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"',
                data: {ID: ID},
                success: function (result) {
                    //find tr by ID, if exists replace, if not add to table and sort
                    if ($(""tbody"").find(""tr[data-id='"" + $(result).data(""id"") + ""']"").length > 0) {
                        $(""tbody"").find(""tr[data-id='"" + $(result).data(""id"") + ""']"").replaceWith(result);
                    } else {
                        $(""tbody"").append(result);
                    }

                    $('table').trigger('update');
                    bindEdit();
                    bindDelete();

                    var sortlist = $(""table"")[0].config.sortList;
                    if (sortlist.length == 0) {
                        $.tablesorter.sortOn($(""table"")[0].config, [[4, 0]]);//default sort by payout
                    } else {
                        $.tablesorter.sortOn($(""table"")[0].config, sortlist);//resort by whatever order was most recently done
                    }
                }");
                WriteLiteral(@"
            });
        }

        $(""#AddArtist"").on(""click"", function () {
            openAddEditModal(""Add Artist"");
            $(""#ID"").val(0);
        });

        $(""table input[type='checkbox']"").on(""click"", function () {
            var checkbox = $(this);
            var ID = checkbox.closest(""tr"").data(""id"");
            var paid = checkbox.is("":checked"");
            var artist = checkbox.closest(""tr"").find("".artist div"").html();
            var revertCheckox = function () {
                checkbox.prop('checked', !paid);
            }

            openConfirmModal(""Confirm Paid Status"", ""Would you like to update "" + artist + "" as "" + (paid ? ""paid?"" : ""unpaid?""), function () {
                $.ajax({
                    type: ""POST"",
                    url: '");
#nullable restore
#line 104 "C:\Users\Curtis\source\repos\Roster-Challenge\RosterChallenge\Views\Home\Index.cshtml"
                     Write(Url.Action("updatePaidArtistByID", "Home"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"',
                    data: { ID: ID, paid: paid },
                    success: function (result) {
                        if (result.success != true) {
                            openNotificationModal(""Error Occurred"", ""An error occured while updating artist: "" + result.error, revertCheckox);
                        }
                    }
                });
            }, revertCheckox);
        });

        var bindEdit = function () {
            $("".bi-pencil"").on(""click"", function () {
                var ID = $(this).closest(""tr"").data(""id"");

                $.ajax({
                    type: ""POST"",
                    url: '");
#nullable restore
#line 121 "C:\Users\Curtis\source\repos\Roster-Challenge\RosterChallenge\Views\Home\Index.cshtml"
                     Write(Url.Action("getArtistByID", "Home"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"',
                    data: { ID: ID },
                    success: function (result) {
                        if (result.success == true) {
                            $(""#artist"").val(result.artist.artist);
                            $(""#rate"").val(result.artist.rate);
                            $(""#streams"").val(result.artist.streams);
                            $(""#paid"").val(result.artist.paid);
                            $(""#ID"").val(result.artist.id);
                            openAddEditModal(""Edit Artist"");
                        }
                        else {
                            openNotificationModal(""Error Occurred"", ""An error occured while retrieving information for artist: "" + result.error);
                        }
                    }
                });
            });
        };

        var bindDelete = function () {
            $("".bi-trash"").on(""click"", function () {
                var ID = $(this).closest(""tr"").data(""id"");
                var a");
                WriteLiteral(@"rtist = $(this).closest(""tr"").find("".artist div"").html();

                openConfirmModal(""Confirm Deletion"", ""Are you sure you would like to delete the following artist: "" + artist + ""?"", function () {
                    $.ajax({
                        type: ""POST"",
                        url: '");
#nullable restore
#line 148 "C:\Users\Curtis\source\repos\Roster-Challenge\RosterChallenge\Views\Home\Index.cshtml"
                         Write(Url.Action("deleteArtistByID", "Home"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"',
                        data: { ID: ID },
                        success: function (result) {
                            if (result.success == true) {
                                $(""tbody"").find(""tr[data-id='"" + ID + ""']"").remove();
                                $('table').trigger('update');
                                bindEdit();
                                bindDelete();
                            }
                            else {
                                openNotificationModal(""Error Occurred"", ""An error occured while deleting artist: "" + result.error);
                            }
                        }
                    });
                })
            });
        };

        bindEdit();
        bindDelete();

        ///////////Add Edit Modal//////////////

        function blankOutAddEditModal() {
            $(""#artist"").val("""");
            $(""#rate"").val("""");
            $(""#streams"").val("""");
            $(""#paid"").val("""");
           ");
                WriteLiteral(@" $(""#ID"").val("""");
        }

        function closeAddEditModal() {
            $(""#AddEditModal.modal"").hide();
            $(""#AddEditBackdrop.modal-backdrop"").hide();
        }

        function openAddEditModal(title) {
            $(""#AddEditModal .modal-header"").text(title);
            $(""#AddEditModal.modal"").show();
            $(""#AddEditBackdrop.modal-backdrop"").show();
        }

        $(""#AddEditCancelButton"").on(""click"", function(){
            closeAddEditModal();
            blankOutAddEditModal();
        });

        $(""#AddEditSaveButton"").on(""click"", function () {
            if (!document.querySelector('#AddEditForm').reportValidity()) {
                return;
            }

            var URL;
            if ($(""#ID"").val() != ""0"") {
                URL = '");
#nullable restore
#line 202 "C:\Users\Curtis\source\repos\Roster-Challenge\RosterChallenge\Views\Home\Index.cshtml"
                  Write(Url.Action("UpdateArtist", "Home"));

#line default
#line hidden
#nullable disable
                WriteLiteral("\';\r\n            } else {\r\n                URL = \'");
#nullable restore
#line 204 "C:\Users\Curtis\source\repos\Roster-Challenge\RosterChallenge\Views\Home\Index.cshtml"
                  Write(Url.Action("AddArtist", "Home"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"';
            }

            var artist = { ""artist"": $(""#artist"").val(), ""rate"": $(""#rate"").val(), ""paid"": $(""#artistPaid"").is("":checked""), ""streams"": $(""#streams"").val(), ""ID"": $(""#ID"").val()};

            $.ajax({
                type: ""POST"",
                url: URL,
                data: artist,
                success: function (result) {
                    if (result.success == true) {
                        refreshArtistRow(result.id);
                        blankOutAddEditModal();
                        closeAddEditModal();
                    }
                    else {
                        openNotificationModal(""Error Occurred"", ""An error occured while saving: "" + result.error);
                    }

                }
            });
        });
    </script>
");
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<RosterModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
